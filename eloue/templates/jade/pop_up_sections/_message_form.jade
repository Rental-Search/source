-load i18n

section(ng-controller="SendProMessageCtrl", ng-init="setUserId({{ patron.id }})")
    div(ng-show="isSent")
      h4(style="position: relative;").text-success.indent-l-md
        i.flaticon.solid.checkmark-2.icon-li
        {% trans "Demande de devis envoyé" %}
      p
        {% trans "Votre demande de devis vient d’être envoyée." %}
      p
        {% blocktrans %}
        | Nos équipes font le nécessaire pour que le loueur vous
        | réponde dans les 24 heures, afin de confirmer votre
        | location.
        {% endblocktrans %}
      p
        {% blocktrans %}
        | Vous n’avez rien à payer sur e-loue, le paiement se fera
        | directement chez le loueur.
        {% endblocktrans %}
      p
        {% blocktrans %}
        | Nous vous remercions pour votre confiance et  restons à
        | votre disposi;on si vous avez des questions.
        {% endblocktrans %}
      p
        {% trans "L’équipe e-loue" %}
    div(ng-show="!isSent")
      h4
        b {% trans "N’hésitez pas à nous écrire" %}
        {% trans "via le formulaire ci‐dessous, nous nous ferons un plaisir de répondre à toutes vos questions..." %}

      {% verbatim %}
      form(name="proMessageForm", novalidate).form-wrapper
        input(name="email", type="email", data-ng-model="message.email", placeholder="Votre adresse e‐mail *", required).form-control.indent-t-md
        span.text-danger(ng-show="proMessageForm.email.$error.required && formSubmitted", translate="required_field")
        span.text-danger(ng-show="proMessageForm.email.$error.email && formSubmitted", translate="email_invalid")
        input(name="subject", type="text", data-ng-model="message.subject", placeholder="Objet de votre message *", required).form-control.indent-t-md
        span.text-danger(ng-show="proMessageForm.subject.$error.required && formSubmitted", translate="required_field")
        textarea(name="message", data-ng-model="message.message", placeholder="Votre message *", rows="5", required).expand.form-control.indent-t-md
        span.text-danger(ng-show="proMessageForm.message.$error.required && formSubmitted", translate="required_field")
        input(type="submit", ng-disabled="submitInProgress", ng-click="formSubmitted=true; proMessageForm.$valid && sendMessage()", value="Envoyer", class="{{submitInProgress ? 'loading' : ''}}").btn.btn-lg.bg-success.indent-t-md
      {% endverbatim %}
